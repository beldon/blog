<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>k8s安装 | Beldon</title><meta name="description" content="Beldon">
    <link rel="modulepreload" href="/assets/app.6951aaec.js"><link rel="modulepreload" href="/assets/k8s-install.html.8e89225e.js"><link rel="modulepreload" href="/assets/k8s-install.html.c36adb05.js"><link rel="prefetch" href="/assets/index.html.cf8fcc42.js"><link rel="prefetch" href="/assets/contributing.html.482fce6f.js"><link rel="prefetch" href="/assets/index.html.6487ab7c.js"><link rel="prefetch" href="/assets/one.html.18fdaa65.js"><link rel="prefetch" href="/assets/index.html.f234c912.js"><link rel="prefetch" href="/assets/two.html.672620f6.js"><link rel="prefetch" href="/assets/JDK命令行工具.html.373f382a.js"><link rel="prefetch" href="/assets/JVM(HotSpot) 7种垃圾收集器的特点及使用场景.html.0fd551d1.js"><link rel="prefetch" href="/assets/JVM运行时数据区.html.3a36f2c9.js"><link rel="prefetch" href="/assets/jsr133.html.64473f1f.js"><link rel="prefetch" href="/assets/垃圾回收算法.html.e9b18ae0.js"><link rel="prefetch" href="/assets/k8s-conception.html.22e54a8c.js"><link rel="prefetch" href="/assets/k8s-main.html.17271916.js"><link rel="prefetch" href="/assets/example.html.6394d926.js"><link rel="prefetch" href="/assets/spring-boot-thin-jar.html.0062b8e8.js"><link rel="prefetch" href="/assets/404.html.265028f6.js"><link rel="prefetch" href="/assets/index.html.f2949449.js"><link rel="prefetch" href="/assets/contributing.html.cf9badb4.js"><link rel="prefetch" href="/assets/index.html.9cbdeb8a.js"><link rel="prefetch" href="/assets/one.html.21c75ce4.js"><link rel="prefetch" href="/assets/index.html.076792ce.js"><link rel="prefetch" href="/assets/two.html.280e21ae.js"><link rel="prefetch" href="/assets/JDK命令行工具.html.c42ebb5a.js"><link rel="prefetch" href="/assets/JVM(HotSpot) 7种垃圾收集器的特点及使用场景.html.ea138cb5.js"><link rel="prefetch" href="/assets/JVM运行时数据区.html.45d21e2d.js"><link rel="prefetch" href="/assets/jsr133.html.c99bc0b8.js"><link rel="prefetch" href="/assets/垃圾回收算法.html.fce6784e.js"><link rel="prefetch" href="/assets/k8s-conception.html.03d7f013.js"><link rel="prefetch" href="/assets/k8s-main.html.42e3cc55.js"><link rel="prefetch" href="/assets/example.html.ac0cd276.js"><link rel="prefetch" href="/assets/spring-boot-thin-jar.html.c49e7e5b.js"><link rel="prefetch" href="/assets/404.html.08a7d00f.js"><link rel="prefetch" href="/assets/404.0c79e1fa.js"><link rel="prefetch" href="/assets/Layout.eea7820e.js">
    <link rel="stylesheet" href="/assets/style.acf36ec1.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">Beldon</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">k8s安装 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/_posts/k8s/k8s-install.html#基本环境配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="基本环境配置"><!--[--><!--]--> 基本环境配置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/_posts/k8s/k8s-install.html#初始化集群" class="router-link-active router-link-exact-active sidebar-item" aria-label="初始化集群"><!--[--><!--]--> 初始化集群 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/_posts/k8s/k8s-install.html#安装dashboard" class="router-link-active router-link-exact-active sidebar-item" aria-label="安装dashboard"><!--[--><!--]--> 安装dashboard <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/_posts/k8s/k8s-install.html#常用命令" class="router-link-active router-link-exact-active sidebar-item" aria-label="常用命令"><!--[--><!--]--> 常用命令 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/_posts/k8s/k8s-install.html#参考资料" class="router-link-active router-link-exact-active sidebar-item" aria-label="参考资料"><!--[--><!--]--> 参考资料 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><p>k8s安装</p><h2 id="基本环境配置" tabindex="-1"><a class="header-anchor" href="#基本环境配置" aria-hidden="true">#</a> 基本环境配置</h2><p>注意：本次折腾是在centos系统下</p><ul><li>关闭防火墙</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>systemctl stop firewalld
systemctl disable firewalld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>关闭sawp</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>swapoff -a
vi /etc/fstab
# 注释下面行
......
#/dev/mapper/centos-swap swap                    swap    defaults        0 0
......
&quot;/etc/fstab&quot; 14L, 694C written
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>禁用selinux</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>setenforce 0
vi /etc/selinux/config
SELINUX=disabled
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>安装docker</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cd /etc/yum.repos.d/
wget http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
sudo yum install docker-ce
sudo systemctl start docker
sudo systemctl enable docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>添加kubernetes.repo</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cat &gt;&gt; /etc/yum.repos.d/kubernetes.repo &lt;&lt;EOF 
[kubernetes]
name=Kubernetes
baseurl=http://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64
enabled=1
gpgcheck=0
repo_gpgcheck=0
gpgkey=http://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg
			 http://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg
EOF
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>centos7用户还需要设置路由</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cat &gt; /etc/sysctl.d/k8s.conf &lt;&lt;EOF
net.bridge.bridge-nf-call-ip6tables = 1
net.bridge.bridge-nf-call-iptables = 1
EOF
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改完成后执行<code>sysctl --system</code>应用。</p><ul><li>安装kubernetes包</li></ul><p><a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/" target="_blank" rel="noopener noreferrer">参考链接<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> -y kubelet kubeadm kubectl --disableexcludes<span class="token operator">=</span>kubernetes
systemctl <span class="token builtin class-name">enable</span> --now kubelet
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>修改/etc/sysconfig/kubelet，加入：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>KUBELET_EXTRA_ARGS=--fail-swap-on=false
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>完成后启动<code>kubelet</code>服务</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>systemctl enable kubelet.service
systemctl start kubelet.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>以上操作需要在所有节点执行。</p><h2 id="初始化集群" tabindex="-1"><a class="header-anchor" href="#初始化集群" aria-hidden="true">#</a> 初始化集群</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># 指定k8s版本
# kubeadm init --kubernetes-version v1.13.0 --pod-network-cidr=10.244.0.0/16
# 安装最新版本，会从k8s.gcr.io下载k8s所需要的镜像，国内网络是下载不了的。
kubeadm init --pod-network-cidr=10.244.0.0/16
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>两种方式下载k8s所需要的镜像</p><ul><li>方法一</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@base ~]# kubeadm config images list
W0813 23:29:24.324521   25028 version.go:98] could not fetch a Kubernetes version from the internet: unable to get URL &quot;https://dl.k8s.io/release/stable-1.txt&quot;: Get https://dl.k8s.io/release/stable-1.txt: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)
W0813 23:29:24.324612   25028 version.go:99] falling back to the local client version: v1.15.1
k8s.gcr.io/kube-apiserver:v1.15.1
k8s.gcr.io/kube-controller-manager:v1.15.1
k8s.gcr.io/kube-scheduler:v1.15.1
k8s.gcr.io/kube-proxy:v1.15.1
k8s.gcr.io/pause:3.1
k8s.gcr.io/etcd:3.3.10
k8s.gcr.io/coredns:1.3.1

#!/bin/bash
images=(
    kube-apiserver:v1.15.1
    kube-controller-manager:v1.15.1
    kube-scheduler:v1.15.1
    kube-proxy:v1.15.1
    pause:3.1
    etcd:3.3.10
    coredns:1.3.1
)

for imageName in ${images[@]} ; do
    docker pull registry.cn-hangzhou.aliyuncs.com/google_containers/$imageName
    docker tag registry.cn-hangzhou.aliyuncs.com/google_containers/$imageName k8s.gcr.io/$imageName
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>方法二</p><p>Kubernetes v1.14 中可以使用<code>--image-repository</code>参数指定自定义的镜像仓库，而不需要手动<code>docker pull</code>和<code>docker tag</code>准备容器镜像，非常实用的一个参数。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>kubeadm init --image-repository<span class="token operator">=</span>registry.cn-hangzhou.aliyuncs.com/google_containers --pod-network-cidr<span class="token operator">=</span><span class="token number">10.244</span>.0.0/16 --apiserver-advertise-address<span class="token operator">=</span><span class="token number">192.168</span>.81.101

kubeadm init --pod-network-cidr<span class="token operator">=</span><span class="token number">10.244</span>.0.0/16 --image-repository<span class="token operator">=</span>registry.cn-hangzhou.aliyuncs.com/google_containers
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>初始化之后会弹出以下类似的语句，标明客户端加入master的命令</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Your Kubernetes master has initialized successfully!

To start using your cluster, you need to run the following as a regular user:

  mkdir -p $HOME/.kube
  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
  sudo chown $(id -u):$(id -g) $HOME/.kube/config

You should now deploy a pod network to the cluster.
Run &quot;kubectl apply -f [podnetwork].yaml&quot; with one of the options listed at:
  https://kubernetes.io/docs/concepts/cluster-administration/addons/

You can now join any number of machines by running the following on each node
as root:

  kubeadm join 192.168.10.21:6443 --token abcdef.0123456789abcdef --discovery-token-ca-cert-hash sha256:564e3ba4b76649e981300fcea9e4400b759f91a02f4a968e035ada454f3a1d2e

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>主要提示：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>1. 推荐非root账号使用`kubectl`命令。本文使用hall账号。
2. 需要在集群中创建pod network。本文使用flannel, 初始化命令中的`--pod-network-cidr=10.244.0.0/16`是使用flannel的必备参数，详情见官方英文文档。
3. 显示了其它节点加入集群的命令。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后执行一下命令</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>  mkdir -p $HOME/.kube
  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
  sudo chown $(id -u):$(id -g) $HOME/.kube/config
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查看node</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>kubectl get nodes
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@k8s-master ~]# kubectl get nodes
NAME         STATUS     ROLES    AGE    VERSION
k8s-master   NotReady   master   121m   v1.15.1
k8s-slave    NotReady   &lt;none&gt;   113m   v1.15.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里状态为<strong>NotReady</strong>是因为还没有进行pod network安装</p><p>安装详情查看：https://juejin.im/post/5c9a49ace51d456c9d78dbef#heading-1</p><p>注意：</p><p>如果执行下面命令提示端口报错的是，可以加上 <code>--ignore-preflight-errors=all</code></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>kubeadm init --config kubeadm-init.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="安装dashboard" tabindex="-1"><a class="header-anchor" href="#安装dashboard" aria-hidden="true">#</a> 安装dashboard</h2><p>github地址：https://github.com/kubernetes/dashboard</p><p>注意：在master上操作</p><p>官方说明：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v1.10.1/src/deploy/recommended/kubernetes-dashboard.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>由于在国内，上面命令是无法下载k8s.gcr.io的镜像的，所以可以修改为阿里云的镜像</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>wget https://raw.githubusercontent.com/kubernetes/dashboard/v1.10.1/src/deploy/recommended/kubernetes-dashboard.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后修改kubernetes-dashboard.yaml，把里面的k8s.gcr.io 改为registry.cn-hangzhou.aliyuncs.com/google_containers</p><p>然后执行</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>kubectl apply -f kubernetes-dashboard.yaml 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>参考链接：</p><p>https://www.cnblogs.com/harlanzhang/p/10045975.html</p><p>https://cloud.tencent.com/developer/article/1115558</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://192.168.31.78:30001/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Token:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>eyJhbGciOiJSUzI1NiIsImtpZCI6IiJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJrdWJlcm5ldGVzLWRhc2hib2FyZC10b2tlbi0ybGs4cyIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjZlNzEyNTc4LWU0NWQtNGM0Ni04YzNmLTUwZjQ0NGQzZDEwMCIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlLXN5c3RlbTprdWJlcm5ldGVzLWRhc2hib2FyZCJ9.aVYbffMpeNa1sY8mOHCiDaFrRa0lWQtgl3scV_5xinxPvA5CzEYQItryAPQ_ceRQFj6GGv994Q4jpAfoTdDyJbhQYsEN3MP8apo7bOR94MWIh57lf8ftIUDBV46c15Lc55SYp9MDinxEEmmioYFSl4yJ0FiHH73rq0vE21ARyc5b_hquGwVh5vMStlU1GtiPSXzTmfLQlDLtXI-mqP_hPHLnmjTs0dInvzbshHKQuS5emkfStYJoWbBMx5bdxgA1OmlLptkDK73CUsk5ygFB13CcF4nobxHfxMYRSx1S-bx4mGJDHryl38ddU0YCkJpqDut582djkEj0dRxMEb0Jwg
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="常用命令" tabindex="-1"><a class="header-anchor" href="#常用命令" aria-hidden="true">#</a> 常用命令</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>kubectl get nodes
kubectl get pods --namespace=kube-system

kubectl get deployment kubernetes-dashboard -n kube-system
 
kubectl get pods -n kube-system -o wide
 
kubectl get services -n kube-system
kubectl get pods -o wide --all-namespaces
kubectl describe pod kubernetes-dashboard -n kube-system
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料" aria-hidden="true">#</a> 参考资料</h2><p><a href="https://juejin.im/post/5c9a49ace51d456c9d78dbef#heading-1" target="_blank" rel="noopener noreferrer">kubernetes 1.13 全新安装指南<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://www.ityoudao.cn/posts/kubernetes-cluster-kubeadm/" target="_blank" rel="noopener noreferrer">Kubeadm创建Kubernetes集群<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="http://www.amd5.cn/atang_3742.html" target="_blank" rel="noopener noreferrer">部署Kubernetes cluster<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://blog.csdn.net/wh211212/article/details/94401759" target="_blank" rel="noopener noreferrer">kubenetes 1.15.0 安装脚本<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1047325205@qq.com">beldon</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.6951aaec.js" defer></script>
  </body>
</html>
