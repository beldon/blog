import{_ as e,r as t,o as p,c as i,a,d as l,e as o,b as n}from"./app.6951aaec.js";const c={},r=o(`<p>Spring Boot\u51FA\u4E86\u540D\u7684\u628A\u6240\u6709\u4F9D\u8D56\u6253\u5305\u6210\u5355\u4E2A\u53EF\u6267\u884C\u7684<strong>fat jar</strong>\uFF0C\u540C\u65F6\u4E5F\u88AB\u5E7F\u6CDB\u5E94\u7528\u4E8E\u5FAE\u670D\u52A1\u3002\u6709\u65F6\u5019\u548C<strong>fat jar</strong>\u4E0D\u53CB\u597D\u7684\u662F\uFF0C\u53CD\u590D\u5305\u62EC\u76F8\u540C\u7684\u4F9D\u8D56\u4F1A\u6210\u4E3A\u4E00\u79CD\u8D44\u6E90\u6D6A\u8D39\u3002</p><h2 id="_1-\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#_1-\u4ECB\u7ECD" aria-hidden="true">#</a> 1.\u4ECB\u7ECD</h2><p>\u672C\u6559\u7A0B\u4E2D\uFF0C\u6211\u4EEC\u5C06\u7814\u7A76<strong>\u5982\u4F55\u4F7F\u7528spring-boot-thin-launcher\u9879\u76EE\u6765\u5C06Spring Boot\u9879\u76EE\u7626\u8EAB</strong>\u3002</p><p>Spring Boot\u51FA\u4E86\u540D\u7684\u628A\u6240\u6709\u4F9D\u8D56\u6253\u5305\u6210\u5355\u4E2A\u53EF\u6267\u884C\u7684<strong>Fat</strong> JAR\uFF0C\u540C\u65F6\u4E5F\u88AB\u5E7F\u6CDB\u5E94\u7528\u4E8E\u5FAE\u670D\u52A1\u3002\u6709\u65F6\u5019\u548C<strong>Fat</strong> JAR\u4E0D\u4E00\u81F4\u7684\u662F\uFF0C\u53CD\u590D\u5305\u62EC\u76F8\u540C\u7684\u4F9D\u8D56\u4F1A\u6210\u4E3A\u4E00\u79CD\u8D44\u6E90\u6D6A\u8D39\u3002</p><h2 id="_2-\u5148\u51B3\u6761\u4EF6" tabindex="-1"><a class="header-anchor" href="#_2-\u5148\u51B3\u6761\u4EF6" aria-hidden="true">#</a> 2.\u5148\u51B3\u6761\u4EF6</h2><p>\u9996\u5148\uFF0C\u6211\u4EEC\u5F53\u7136\u9700\u8981\u4E00\u4E2ASpring Boot\u9879\u76EE\u3002\u5728\u672C\u6587\u4E2D\uFF0C\u6211\u4EEC\u5C06\u7814\u7A76Maven\u6784\u5EFA\u548CGradle\u6784\u5EFA\u7684\u6700\u5E38\u89C1\u914D\u7F6E\u3002</p><p>\u8FD9\u91CC\u662F\u4E0D\u53EF\u80FD\u8986\u76D6\u6240\u6709\u6784\u5EFA\u7CFB\u7EDF\u548C\u76F8\u5E94\u7684\u914D\u7F6E\uFF0C\u4F46\u662F\u5E0C\u671B\u6211\u4EEC\u80FD\u591F\u6709\u5E38\u7528\u7684\u6784\u5EFA\u7CFB\u7EDF\u914D\u7F6E\u4EE5\u4FBF\u53C2\u8003\u3002</p><h3 id="_2-1-maven-\u9879\u76EE" tabindex="-1"><a class="header-anchor" href="#_2-1-maven-\u9879\u76EE" aria-hidden="true">#</a> 2.1 Maven \u9879\u76EE</h3><p>\u7528Maven \u6784\u5EFA\u4E00\u4E2ASpring Boot \u9879\u76EE\uFF0C\u6211\u4EEC\u9996\u5148\u8981\u5728<strong>pom.xml</strong>\u6216\u8005\u5B83\u7684parent\u7B49\u4EFB\u4F55\u4E00\u4E2A\u7956\u5148\u6DFB\u52A0Spring Boot\u7684Maven\u63D2\u4EF6:</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u8FD9\u91CC\uFF0C\u6211\u4EEC\u6307\u7684\u662F\u63D2\u4EF6\u7684\u7248\u672C<code>2.0.2.RELEASE</code>\uFF0C\u8FD9\u662F\u7F16\u5199\u672C\u6587\u65F6\u7684\u6700\u65B0\u7248\u672C\u3002Spring Boot\u6240\u7528\u7684\u4F9D\u8D56\u7248\u672C\u901A\u5E38\u662F\u7528<strong>BOM</strong>\u6216\u8005\u4ECE\u7236\u7684<strong>POM</strong>\u7EE7\u627F\u7684\u4E86\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.1.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-gradle-\u9879\u76EE" tabindex="-1"><a class="header-anchor" href="#_2-2-gradle-\u9879\u76EE" aria-hidden="true">#</a> 2.2 Gradle \u9879\u76EE</h3><p>\u7528Gradle\u6784\u5EFASpring Boot\u9879\u76EE\uFF0C\u6211\u4EEC\u4F1A\u6709\u76F8\u5E94\u7684Gradle\u63D2\u4EF6</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>buildscript {
    ext {
        springBootPlugin = &#39;org.springframework.boot:spring-boot-gradle-plugin&#39;
        springBootVersion = &#39;2.0.1.RELEASE&#39;
    }
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath(&quot;\${springBootPlugin}:\${springBootVersion}&quot;)
    }
} 
// elided
apply plugin: &#39;org.springframework.boot&#39;
apply plugin: &#39;io.spring.dependency-management&#39;
springBoot {
    mainClassName = &#39;DemoApplication&#39;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BF7\u6CE8\u610F\uFF0C\u672C\u6587\u53EA\u8003\u8651Spring Boot 2.x\u6216\u8005\u66F4\u9AD8\u7684\u7248\u672C\uFF0CThin Launcher\u4E5F\u652F\u6301\u65E7\u7684\u7248\u672C\uFF0C\u4F46\u662F\u53EF\u80FD\u6709\u7A0D\u5FAE\u4E0D\u540C\u7684\u7248\u672C\uFF0C\u5177\u4F53\u8BF7\u67E5\u770B\u9879\u76EE\u7684\u4E3B\u9875\u3002</p><h2 id="_3-\u600E\u4E48\u521B\u5EFA\u4E00\u4E2Athin-jar" tabindex="-1"><a class="header-anchor" href="#_3-\u600E\u4E48\u521B\u5EFA\u4E00\u4E2Athin-jar" aria-hidden="true">#</a> 3.\u600E\u4E48\u521B\u5EFA\u4E00\u4E2AThin Jar</h2><p>Spring Boot Thin Launcher\u662F\u4E00\u4E2A\u6BD4\u8F83\u5C0F\u7684\u7C7B\u5E93\uFF0C\u5B83\u4ECE\u6253\u5305\u7684\u6587\u4EF6\u4E2D\u8BFB\u53D6\u9879\u76EE\u5DE5\u7A0B\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u7136\u540E\u4ECEmaven\u4ED3\u5E93\u4E0B\u8F7D\u8FD9\u4E9B\u4F9D\u8D56\uFF0C\u6700\u540E\u542F\u52A8\u5E94\u7528\u7A0B\u5E8F\u3002\u6240\u4EE5\u5728\u7B2C\u4E00\u6B21\u542F\u52A8\u4E0B\u8F7D\u76F8\u5E94\u4F9D\u8D56\u7684\u65F6\u5019\u4F1A\u6D88\u8017\u4E00\u5B9A\u7684\u65F6\u95F4\u3002</p><p>\u6240\u4EE5\uFF0C\u5F53\u6211\u4EEC\u7528\u5E93\u6784\u5EFA\u4E00\u4E2A\u9879\u76EE\u65F6\uFF0C\u6211\u4EEC\u4F1A\u5F97\u5230\u4E00\u4E2A\u5305\u542B\u4EE3\u7801\u7684JAR\u6587\u4EF6\uFF0C\u4E00\u4E2A\u5305\u542B\u4F9D\u8D56\u5173\u7CFB\u7684\u6587\u4EF6\uFF0C\u4EE5\u53CA\u6267\u884C\u5165\u53E3\u7684\u4E3B\u7C7B\u3002</p><p>\u5F53\u7136\uFF0C\u4E8B\u60C5\u4F1A\u6BD4\u6211\u4EEC\u7B80\u5355\u7684\u89E3\u6790\u5FAE\u5999\u5F97\u591A\uFF0C\u672C\u6587\u4E0B\u9762\u4F1A\u7EE7\u7EED\u63A2\u8BA8\u3002</p><h2 id="_4-\u57FA\u672C\u7528\u6CD5" tabindex="-1"><a class="header-anchor" href="#_4-\u57FA\u672C\u7528\u6CD5" aria-hidden="true">#</a> 4.\u57FA\u672C\u7528\u6CD5</h2><p>\u73B0\u5728\u8BA9\u6211\u4EEC\u770B\u4E0B\u5982\u4F55\u6784\u5EFA\u4E00\u4E2A<strong>thin</strong> jar\u7684Spring Boot \u9879\u76EE\u3002</p><p>\u6211\u4EEC\u5C06\u4F7F\u7528\u901A\u5E38\u7684java -jar \u542F\u52A8\u5E94\u7528\u7A0B\u5E8F\uFF0C\u5E76\u4F7F\u7528\u53EF\u9009\u7684\u9644\u52A0\u547D\u4EE4\u884C\u53C2\u6570\u6765\u63A7\u5236 Thin Launcher\u3002</p><p>\u6211\u4EEC\u5C06\u5728\u4EE5\u4E0B\u90E8\u5206\u4E2D\u770B\u5230\u5176\u4E2D\u4F7F\u7528\u53C2\u6570\u7684\u51E0\u4E2A\u4F8B\u5B50; \u8BE5\u9879\u76EE\u7684\u4E3B\u9875\u5305\u542B\u5B8C\u6574\u53C2\u6570\u5217\u8868\u3002</p><h3 id="_4-1-maven-\u9879\u76EE" tabindex="-1"><a class="header-anchor" href="#_4-1-maven-\u9879\u76EE" aria-hidden="true">#</a> 4.1 Maven \u9879\u76EE</h3><p>\u5728Maven\u9879\u76EE\u4E2D\uFF0C\u6211\u4EEC\u5FC5\u987B\u4FEE\u6539SpringBoot\u7684\u63D2\u4EF6\uFF0C\u6DFB\u52A0\u76F8\u5E94\u7684\u4F9D\u8D56\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- The following enables the &quot;thin jar&quot; deployment option. --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot.experimental<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-thin-layout<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0.11.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Thin Launcher\u5C06\u4F1A\u4ECEMaven\u5B58\u50A8\u5728JAR\u4E0B\u7684META-INF/maven\`\u76EE\u5F55\u4E2D\u751F\u6210\u7684pom.xml\u6587\u4EF6\u8BFB\u53D6\u4F9D\u8D56\u5173\u7CFB\u3002</p><p><strong>\u6211\u4EEC\u50CF\u5F80\u5E38\u4E00\u6837\u6267\u884C\u6784\u5EFA\u5C31\u884C\uFF0C\u4F8B\u5982\u4F7F\u7528 mvn install</strong></p><p>\u5982\u679C\u6211\u4EEC\u9700\u8981\u540C\u65F6\u6253\u5305<strong>fat jar</strong>\u548C<strong>thin jar</strong>\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5728maven\u7684profile\u4E2D\u5B9A\u4E49springboot\u63D2\u4EF6\u3002</p><h3 id="_4-2-maven\u4F9D\u8D56-thin-properties" tabindex="-1"><a class="header-anchor" href="#_4-2-maven\u4F9D\u8D56-thin-properties" aria-hidden="true">#</a> 4.2 Maven\u4F9D\u8D56\uFF1Athin.properties</h3><p><strong>\u9664\u4E86pom.xml\u4E4B\u5916\uFF0C\u6211\u4EEC\u4E5F\u53EF\u4EE5\u8BA9maven\u751F\u4EA7thin.properties</strong>\u3002\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u8BE5\u6587\u4EF6\u4F1A\u5305\u542B\u5B8C\u6574\u7684\u4F9D\u8D56\u5217\u8868\uFF0C\u5305\u62EC\u53EF\u4F20\u9012\u7684\u4F9D\u8D56\u5217\u8868\uFF0C\u4F46\u662F\u76F8\u5BF9pom.xml\u6765\u8BF4\uFF0Cthin Launcher\u5BF9thin.properties\u66F4\u52A0\u53CB\u597D\u3002</p><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u63D2\u4EF6\u5728src/main/resources/META-INF\u4E2D\u8F93\u51FAthin.properties\uFF0C\u4F46\u662F\u6211\u4EEC\u53EF\u4EE5\u7528thin.output\u5C5E\u6027\u6765\u6307\u5B9A\u5B83\u7684\u4F4D\u7F6E:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>mvn org.springframework.boot.experimental:spring-boot-thin-maven-plugin:properties -Dthin.output<span class="token operator">=</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4-3-gradle\u9879\u76EE" tabindex="-1"><a class="header-anchor" href="#_4-3-gradle\u9879\u76EE" aria-hidden="true">#</a> 4.3 Gradle\u9879\u76EE</h3><p>\u4E0D\u540C\u7684\u662F\uFF0C\u5728Gradle\u9879\u76EE\u4E2D\uFF0C\u6211\u4EEC\u9700\u8981\u6DFB\u52A0\u4E86\u4E00\u4E2A\u4E13\u7528\u7684\u63D2\u4EF6\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>buildscript {
    ext {
        //...
        thinPlugin = &#39;org.springframework.boot.experimental:spring-boot-thin-gradle-plugin&#39;
        thinVersion = &#39;1.0.11.RELEASE&#39;
    }
    //...
    dependencies {
        //...
        classpath(&quot;\${thinPlugin}:\${thinVersion}&quot;)
    }
}
//elided
apply plugin: &#39;maven&#39;
apply plugin: &#39;org.springframework.boot.experimental.thin-launcher&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E3A\u4E86\u83B7\u53D6<strong>thin jar</strong>, \u6211\u4EEC\u9700\u8981\u6267\u884C <strong>thinJar</strong> \u4EFB\u52A1\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>./gradlew thinJar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4-4-graldle\u4F9D\u8D56-pom-xml" tabindex="-1"><a class="header-anchor" href="#_4-4-graldle\u4F9D\u8D56-pom-xml" aria-hidden="true">#</a> 4.4 Graldle\u4F9D\u8D56\uFF1Apom.xml</h3><p>\u5728\u524D\u4E00\u5C0F\u8282\u7684\u4EE3\u7801\u793A\u4F8B\u4E2D\uFF0C\u9664\u4E86Thin Launcher\u4E4B\u5916\uFF0C\u6211\u4EEC\u8FD8\u58F0\u660E\u4E86Maven\u63D2\u4EF6\uFF08\u6211\u4EEC\u5DF2\u7ECF\u4E8B\u5148\u770B\u5230Spring Boot\u7684\u4F9D\u8D56\u7BA1\u7406\u63D2\u4EF6\uFF09</p><p>\u8FD9\u662F\u56E0\u4E3A\u548C\u6211\u4EEC\u4E4B\u524D\u7684Maven\u6848\u4F8B\u4E00\u6837\uFF0C\u6253\u5305\u540E\u7684\u6587\u4EF6\u5305\u542B\u4E86\u4E00\u4E2A<strong>pom.xml</strong>\u6765\u5217\u4E3E\u5E94\u7528\u7A0B\u5E8F\u6240\u9700\u8981\u7684\u4F9D\u8D56\u5173\u7CFB\u3002pom.xml\u6587\u4EF6\u662F\u7531<strong>thinPom</strong>\u4EFB\u52A1\u751F\u6210\u3002</p><p><strong>\u6211\u4EEC\u53EF\u4EE5\u7528\u4E13\u95E8\u7684\u4E00\u4E2A\u4EFB\u52A1\u6765\u5B9A\u5236\u751F\u6210pom.xml</strong>, \u5728\u8FD9\u91CC\uFF0C\u6211\u4EEC\u590D\u5236\u4E0B\u63D2\u4EF6\u5DF2\u7ECF\u505A\u7684\u4E1C\u897F\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>task createPom {
    def basePath = &#39;build/resources/main/META-INF/maven&#39;
    doLast {
        pom {
            withXml(dependencyManagement.pomConfigurer)
        }.writeTo(&quot;\${basePath}/\${project.group}/\${project.name}/pom.xml&quot;)
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E3A\u4E86\u4F7F\u7528\u6211\u4EEC\u7684\u81EA\u5B9A\u4E49pom.xml\u6587\u4EF6\uFF0C\u6211\u4EEC\u5C06\u4E0A\u8FF0\u4EFB\u52A1\u6DFB\u52A0\u5230jar\u4EFB\u52A1\u7684\u4F9D\u8D56\u9879\u4E2D:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>bootJar.dependsOn = [createPom]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4-5-gralde\u4F9D\u8D56-thin-properties" tabindex="-1"><a class="header-anchor" href="#_4-5-gralde\u4F9D\u8D56-thin-properties" aria-hidden="true">#</a> 4.5 Gralde\u4F9D\u8D56\uFF1Athin.properties</h3><p><strong>\u548C\u524D\u9762\u7684maven\u9879\u76EE\u5DF2\u4E8E\uFF0C\u6211\u4EEC\u4E5F\u53EF\u4EE5\u8BA9Gradle\u751F\u6210thin.properties\u800C\u4E0D\u662Fpom.xml</strong>, \u751F\u6210thin.properties\u6587\u4EF6\u7684\u4EFB\u52A1\u53EB\u505AthinProperties\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u662F\u4E0D\u4F7F\u7528\u5B83\u7684\u3002\u6211\u4EEC\u4E5F\u53EF\u4EE5\u628A\u5B83\u6DFB\u52A0\u5230\u4EFB\u52A1\u7684\u4F9D\u8D56\u4E2D\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>bootJar.dependsOn = [thinProperties]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_5-\u4FDD\u5B58\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_5-\u4FDD\u5B58\u4F9D\u8D56" aria-hidden="true">#</a> 5.\u4FDD\u5B58\u4F9D\u8D56</h2><p>thin jar\u7684\u76EE\u7684\u662F\u4E3A\u4E86\u907F\u514D\u4F9D\u8D56\u9879\u548C\u5E94\u7528\u7A0B\u5E8F\u7ED1\u5728\u4E00\u8D77\uFF0C\u7136\u540E\u4F9D\u8D56\u662F\u4E0D\u4F1A\u6D88\u5931\u7684\uFF0C\u8FD9\u4E9B\u4F9D\u8D56\u53EA\u662F\u5B58\u50A8\u5728\u5176\u4ED6\u5730\u65B9\u800C\u5DF2\u3002</p><p>\u7279\u522B\u5730\uFF0CThin Launcher\u662F\u4F7F\u7528maven\u7684\u57FA\u7840\u67B6\u6784\u6765\u89E3\u51B3\u4F9D\u8D56\u7684\uFF0C\u6240\u4EE5\uFF1A</p><ul><li>\u4F1A\u68C0\u67E5\u672C\u5730\u7684Maven\u4ED3\u5E93\uFF0C\u9ED8\u8BA4\u662F\u6307 <code>~/.m2/repository</code>\uFF0C\u5F53\u7136\u4E5F\u53EF\u4EE5\u79FB\u5230\u5176\u4ED6\u5730\u65B9\u3002</li><li>\u4F1A\u4ECEmaven\u4E2D\u592E\u4ED3\u5E93\u4E2D\u4E0B\u8F7D\u7F3A\u5931\u7684\u4F9D\u8D56</li><li>\u6700\u540E\u4F1A\u7F13\u5B58\u6240\u4E0B\u8F7D\u7684\u4F9D\u8D56\u5230\u672C\u5730maven\u4ED3\u5E93\u4E2D\uFF0C\u4E0B\u6B21\u542F\u52A8\u7684\u65F6\u5019\u5C31\u4E0D\u4F1A\u518D\u7EE7\u7EED\u4E0B\u8F7D\u4E86\u3002</li></ul><p>\u5F53\u7136\uFF0C\u4E0B\u8F7D\u4F9D\u8D56\u9636\u6BB5\u662F\u6BD4\u8F83\u7F13\u6162\u800C\u4E14\u5BB9\u6613\u51FA\u9519\u7684\u90E8\u5206\uFF0C\u4E3B\u8981\u662F\u56E0\u4E3A\u662F\u901A\u8FC7\u7F51\u7EDC\u8BBF\u95EEmaven\u4E2D\u592E\u4ED3\u5E93\u6765\u4E0B\u8F7D\u4F9D\u8D56\uFF0C\u603B\u4E4B\u8FD9\u4E9B\u662F\u4E0D\u53EF\u9760\u7684\u3002</p><p>\u5E78\u8FD0\u7684\u662F\uFF0C\u6709\u5F88\u591A\u79CD\u65B9\u5F0F\u5C06\u4F9D\u8D56\u548C\u5E94\u7528\u7A0B\u5E8F\u4E00\u8D77\u90E8\u7F72\uFF0C\u4F8B\u5982\u53EF\u4EE5\u9884\u6253\u5305\u5728\u5BB9\u5668\u4E2D\u3002</p><h3 id="_5-1-\u8FD0\u884C\u9884\u70ED\u7684\u7A0B\u5E8F" tabindex="-1"><a class="header-anchor" href="#_5-1-\u8FD0\u884C\u9884\u70ED\u7684\u7A0B\u5E8F" aria-hidden="true">#</a> 5.1 \u8FD0\u884C\u9884\u70ED\u7684\u7A0B\u5E8F</h3><p>\u7F13\u5B58\u4F9D\u8D56\u7684\u6700\u7B80\u5355\u65B9\u6CD5\u5C31\u662F\u5728\u76EE\u6807\u73AF\u5883\u4E2D\u5BF9\u7A0B\u5E8F\u8FDB\u884C\u9884\u70ED\u8FD0\u884C\u3002\u6B63\u5982\u524D\u9762\u6240\u8BF4\u7684\uFF0C\u9884\u70ED\u8FD0\u884C\u4F1A\u628A\u6240\u4F9D\u8D56\u7684\u6587\u4EF6\u7F13\u5B58\u5230\u672C\u5730\u7684maven\u4ED3\u5E93\u4E2D\u53BB\u3002\u5982\u679C\u6211\u4EEC\u8FD0\u884C\u4E86\u591A\u4E2A\u5E94\u7528\u7A0B\u5E8F\uFF0Cmaven\u4ED3\u5E93\u4E2D\u5DF2\u7ECF\u9971\u548C\u4E86\u6240\u4F9D\u8D56\u7684\u5E93\u7684\u8BDD\uFF0C\u5C31\u6CA1\u6709\u5FC5\u8981\u91CD\u590D\u4E0B\u8F7D\u4E86\u3002</p><p>\u7531\u4E8E\u8FD0\u884C\u5E94\u7528\u7A0B\u5E8F\u53EF\u80FD\u4F1A\u5BFC\u81F4\u4E0D\u5FC5\u8981\u7684\u526F\u4F5C\u7528\uFF0C<strong>\u6211\u4EEC\u8FD8\u53EF\u4EE5\u6267\u884C\u201C\u8BD5\u8FD0\u884C\u201D,\u5B83\u53EA\u89E3\u6790\u548C\u4E0B\u8F7D\u4F9D\u8D56\u9879\uFF0C\u800C\u4E0D\u8FD0\u884C\u4EFB\u4F55\u7528\u6237\u4EE3\u7801:</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>java -Dthin.dryrun<span class="token operator">=</span>true -jar my-app-1.0.jar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_5-2-\u5728\u6784\u5EFA\u7684\u65F6\u5019\u6253\u5305\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_5-2-\u5728\u6784\u5EFA\u7684\u65F6\u5019\u6253\u5305\u4F9D\u8D56" aria-hidden="true">#</a> 5.2 \u5728\u6784\u5EFA\u7684\u65F6\u5019\u6253\u5305\u4F9D\u8D56</h3><p>\u53E6\u5916\u4E00\u4E2A\u9009\u62E9\u5C31\u662F\u5728\u6784\u5EFA\u7684\u65F6\u5019\u6253\u5305\u4F9D\u8D56\uFF0C\u5F53\u7136\uFF0C\u8FD9\u4E0D\u662F\u628A\u4F9D\u8D56\u6253\u5305\u5230JAR\u4E2D\uFF0C\u7136\u540E\u6211\u4EEC\u53EF\u4EE5\u590D\u5236\u8FD9\u4E9B\u4F9D\u8D56\u5230\u76EE\u6807\u7684\u73AF\u5883\u4E2D\u3002</p><p>\u901A\u5E38\u8FD9\u4F1A\u66F4\u52A0\u7B80\u5355\uFF0C\u56E0\u4E3A\u6CA1\u5FC5\u8981\u5728\u76EE\u6807\u73AF\u5883\u4E2D\u8FD0\u884C\u5E94\u7528\u7A0B\u5E8F\u3002\u4F46\u662F\uFF0C\u5982\u679C\u6211\u4EEC\u90E8\u7F72\u591A\u4E2A\u73AF\u5883\uFF0C\u5C31\u5FC5\u987B\u624B\u52A8\u6216\u7528\u811A\u672C\u5408\u5E76\u4ED6\u4EEC\u7684\u4F9D\u8D56\u5173\u7CFB\u3002</p><p>\u5728\u6784\u5EFA\u8FC7\u7A0B\u4E2D\uFF0CMaven\u548CGradle\u7684Thin \u63D2\u4EF6\u6253\u5305\u7684\u4F9D\u8D56\u683C\u5F0F\u4E0Emaven\u7684\u672C\u5730\u4ED3\u5E93\u662F\u4E00\u6837\u7684\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>root/
    repository/
        com/
        net/
        org/
        ...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5B9E\u9645\u4E0A\uFF0C\u6211\u4EEC\u8FD8\u53EF\u4EE5\u5728\u8FD0\u884C\u7684\u65F6\u5019\u4F7F\u7528 thin.root\u53C2\u6570\u6765\u6307\u5B9A\u4F9D\u8D56\u7684\u76EE\u5F55\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ java -jar my-app-1.0.jar --thin.root<span class="token operator">=</span>my-app/deps
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_5-3-\u7528maven\u6253\u5305\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_5-3-\u7528maven\u6253\u5305\u4F9D\u8D56" aria-hidden="true">#</a> 5.3 \u7528maven\u6253\u5305\u4F9D\u8D56</h3><p>\u4E3A\u4E86\u80FD\u8BA9maven\u5E2E\u6211\u4EEC\u6253\u5305\u4F9D\u8D56\uFF0C\u6211\u4EEC\u9700\u8981\u6DFB\u52A0 <code>spring-boot-thin-maven</code>\u63D2\u4EF6</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot.experimental<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-thin-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>\${thin.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Download the dependencies at build time --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>resolve<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>resolve<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>inherited</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>inherited</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6784\u5EFA\u9879\u76EE\u540E\uFF0C\u6211\u4EEC\u5C06\u627E\u5230\u4E00\u4E2A\u76EE\u5F55<code>target/thin/root/</code>\u4F1A\u51FA\u73B0\u4E0A\u4E00\u8282\u8BA8\u8BBA\u7684\u7ED3\u6784\u3002</p><h3 id="_5-4-\u7528gradle\u6253\u5305\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_5-4-\u7528gradle\u6253\u5305\u4F9D\u8D56" aria-hidden="true">#</a> 5.4 \u7528Gradle\u6253\u5305\u4F9D\u8D56</h3><p>\u5982\u6211\u4EEC\u7528<em>thin-launcher</em>\u63D2\u4EF6\uFF0C\u6211\u4EEC\u4F1A\u6709<em>thinResolve</em>\u4EFB\u52A1\u53EF\u4EE5\u7528\u3002\u8FD9\u4E2A\u4EFB\u52A1\u4F1A\u4FDD\u5B58\u5E94\u7528\u548C\u5B83\u7684\u4F9D\u8D56\u5728<em>build/thin/root/</em> \u76EE\u5F55\u4E2D\uFF0C\u8DDFmaven\u7684\u4E00\u6837\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>gradlew thinResolve
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_6-\u603B\u7ED3\u548C\u8FDB\u4E00\u6B65\u9605\u8BFB" tabindex="-1"><a class="header-anchor" href="#_6-\u603B\u7ED3\u548C\u8FDB\u4E00\u6B65\u9605\u8BFB" aria-hidden="true">#</a> 6.\u603B\u7ED3\u548C\u8FDB\u4E00\u6B65\u9605\u8BFB</h2><p>\u5728\u8FD9\u7BC7\u6587\u7AE0\u4E2D\uFF0C\u6211\u4EEC\u5B66\u4E60\u4E86\u5982\u4F55\u5236\u4F5CSpring Boot\u7684thin jar\uFF0C\u540C\u65F6\u4E5F\u770B\u5230\u4E86\u5982\u4F55\u4F7F\u7528maven\u7684\u67B6\u6784\u6765\u4E0B\u8F7D\u548C\u5B58\u50A8\u5E94\u7528\u7684\u4F9D\u8D56\u5173\u7CFB\u3002</p>`,75),d=n("\u5728"),u={href:"https://github.com/dsyer/spring-boot-thin-launcher",target:"_blank",rel:"noopener noreferrer"},g=n("\u9879\u76EE\u4E3B\u9875"),v=n(" \u4E5F\u6709\u4E00\u4E9B\u5176\u4ED6\u7684\u4F7F\u7528\u6307\u5BFC\uFF0C\u597D\u6BD4\u5982\u4E00\u4E9B\u547D\u4EE4\u53C2\u6570\u7B49\u3002");function m(k,h){const s=t("ExternalLinkIcon");return p(),i("div",null,[r,a("p",null,[d,a("a",u,[g,l(s)]),v])])}var x=e(c,[["render",m],["__file","spring-boot-thin-jar.html.vue"]]);export{x as default};
